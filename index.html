<!DOCTYPE html>
<html lang="nl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title></title>
    <link
      rel="stylesheet"
      href="https://unpkg.com/lenis@1.1.13/dist/lenis.css"
    />
    <link rel="stylesheet" href="styles.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.12.2/lottie.min.js"></script>
  </head>
  <body>
    <!-- Theme Indicator (for testing) -->
    <!-- <div id="theme-indicator" style="position: fixed; top: 20px; right: 20px; background: rgba(0,0,0,0.8); color: white; padding: 10px; border-radius: 5px; z-index: 10000; font-size: 12px; font-family: monospace;">
  
    </div> -->
    
    <div class="main-wrapper">
    <div class="top-marquee" role="region" aria-label="Scrolling announcements">
      <div class="bb-top container">
        <!-- Mobile Menu Toggle Button -->
        <button class="mobile-menu-toggle" id="mobile-menu-toggle" aria-label="Toggle navigation menu" aria-expanded="false">
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
        </button>
        
        <div class="nav-hero" id="nav-hero">
          <!-- Navigation items will be dynamically populated from global API -->
          <!-- Test contact link for email badge -->
          <a href="mailto:test@bloemerbar.com" class="small-link small-link-contact" data-email="test@bloemerbar.com">
            <div class="small-link-text">Contact Test</div>
            <div class="link-arrow" aria-hidden="true">
              <svg width="20" height="20" viewBox="0 0 17 27" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M3.1836 26.0662C6.32574 20.7266 11.2081 16.5218 16.4082 13.2568C11.1598 10.0406 6.48457 5.68956 3.19051 0.447478L0.0552734 0.447478C3.34243 5.52248 7.30636 9.93614 12.1957 13.2568C7.29945 16.6262 3.1836 21.0886 2.47955e-05 26.0662L3.1905 26.0662L3.1836 26.0662Z" fill="currentColor"></path>
              </svg>
            </div>
          </a>
          
          <!-- Additional navigation items for testing -->
          <a href="#" class="small-link">
            <div class="small-link-text">Menu</div>
            <div class="link-arrow" aria-hidden="true">
              <svg width="20" height="20" viewBox="0 0 17 27" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M3.1836 26.0662C6.32574 20.7266 11.2081 16.5218 16.4082 13.2568C11.1598 10.0406 6.48457 5.68956 3.19051 0.447478L0.0552734 0.447478C3.34243 5.52248 7.30636 9.93614 12.1957 13.2568C7.29945 16.6262 3.1836 21.0886 2.47955e-05 26.0662L3.1905 26.0662L3.1836 26.0662Z" fill="currentColor"></path>
              </svg>
            </div>
          </a>
          
          <a href="#" class="small-link">
            <div class="small-link-text">Reservations</div>
            <div class="link-arrow" aria-hidden="true">
              <svg width="20" height="20" viewBox="0 0 17 27" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M3.1836 26.0662C6.32574 20.7266 11.2081 16.5218 16.4082 13.2568C11.1598 10.0406 6.48457 5.68956 3.19051 0.447478L0.0552734 0.447478C3.34243 5.52248 7.30636 9.93614 12.1957 13.2568C7.29945 16.6262 3.1836 21.0886 2.47955e-05 26.0662L3.1905 26.0662L3.1836 26.0662Z" fill="currentColor"></path>
              </svg>
            </div>
          </a>
          
          <a href="#" class="small-link">
            <div class="small-link-text">About</div>
            <div class="link-arrow" aria-hidden="true">
              <svg width="20" height="20" viewBox="0 0 17 27" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M3.1836 26.0662C6.32574 20.7266 11.2081 16.5218 16.4082 13.2568C11.1598 10.0406 6.48457 5.68956 3.19051 0.447478L0.0552734 0.447478C3.34243 5.52248 7.30636 9.93614 12.1957 13.2568C7.29945 16.6262 3.1836 21.0886 2.47955e-05 26.0662L3.1905 26.0662L3.1836 26.0662Z" fill="currentColor"></path>
              </svg>
            </div>
          </a>
        </div>

        <div class="marquee__wrapper track">
          <div class="list"></div>
          <div class="list" aria-hidden="true"></div>
        </div>
      </div>
    </div>
    <div class="container">
      <section class="brand-splash" aria-label="Brand feature" style="height: 80vh;">
        <div class="bg-title" aria-hidden="true"></div>
        <!-- <img src="./assets/Asset 2.svg" alt="Bloemerbar illustration" class="brand-illustration" /> -->
        
        <!-- Original SVG (now active) -->
        <svg class="brand-illustration"  id="Layer_2" data-name="Layer 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 356.49 550.22">
          <defs>
            <style>
              .svg-piece {
                fill: var(--primary-pink);
                stroke-width: 0px;
                transition: fill 0.3s ease;
              }
            </style>
          </defs>
          <g id="Layer_2-2" data-name="Layer 2">
            <g>
              <g>
                <path class="svg-piece" d="m19.38,357.73l7.92.09c1.24,0,4.78-1.38,5.62-5.97.84-4.59,3.33-47.86,6.89-48.16,2.35-.2,5.08,10.83,7.1,19.82,2.03,9,1.91,34.22,17.65,34.22h10.26c3.67,0,5.7-5.09,5.97-6.12l7.26-27.23c.91-3.42,7.31-35.46,10.83-35.46,3.91,0,7.7,61.52,7.7,61.52.76,5.62,5.26,7.35,10.64,7.28,8.17-.09,10.23.43,14.29-33.05l15.68-119.13c1.53-13.82-3.09-19.7-9.73-19.7h-33.31c-1.06,0-11.67-.52-15.54,9.71l-7.54,23.34c-5.64,17.5-7.59,27.19-11.18,26.86s-6.55-18.94-6.97-23.46l-5.3-26.16c-1.9-10.11-8.96-10.29-10.18-10.29l-33.42-.52c-11.81.52-14.01,7.76-13.51,15.54l8.34,139.36c1.26,14.23,5.85,17.49,10.5,17.49Z"/>
                <path class="svg-piece" d="m155.42,357.63h71.92c3.69,0,6.69-3,6.69-6.69v-6.98c0-3.28-1.99-13.03-8.92-14.15l-38.35-6.06c-4.21-.25-8.05-3.11-8.33-4.26-.85-3.56,1.63-6.45,7.35-8.63l40.22-8.85c8.03-1.52,4.94-24.44,4.25-29.43-.69-4.99-6.44-7.12-10.35-8.7l-25.29-11.69c-3.18-1.29-7.64-2.64-6.73-5.94.5-1.81,3.51-2.32,11.09-3.76l22.87-4.96c6.59-2.14,6.24-10.48,6.07-12.27l-.81-24.58c0-8.56-6.98-14.65-18.47-14.65h-24.64c-10.7,0-13.53,6.21-14.4,10.29l-20.76,149.05c-.29,6.51.27,8.47,1.54,9.94,1.27,1.48,3.12,2.33,5.07,2.33Z"/>
                <path class="svg-piece" d="m304.23,282.61s27.62,2.64,38.45-1.63c10.83-4.27,13.1-14.48,13.1-22.2,0-23.42.29-44.22-1.14-54.98-2.06-15.5-9.09-17.79-18.2-17.79h-77.95c-6.96.14-14.32,2.25-14.27,11.46l8.6,151.14c.24,6.79,3.65,9.2,8.19,9.01,1.37-.06,2.71-.12,4.35,0,10.7.78,11.25-7.56,11.25-15.54,0,0-.25-26.23,3.45-26.66,6.06-.7,8.59,11.2,15.96,26.85,2.97,5.75,5.03,15.34,20.84,15.34h17.8c7.14,0,20.52-.03,21.15-5.85.63-5.82-.16-12.24-1.54-16.12-4.42-12.42-47.01-44.11-47.01-44.11-2.33-3.02-10.92-7.79-3.02-8.93Z"/>
              </g>
              <g>
                <path class="svg-piece" d="m148.53,171.79h38c3.86,0,8.76.14,10.23-1.86,0,0,1.08-1.34,0-4.58-1.53-4.58-6.27-16.3-13.28-19.82-.02-.01-.05-.02-.07-.04l-15.25-8.27c-13.87-7.49-11.43-17.4-10.92-21.18,0,0,6.79-88.72,6.79-88.74,1.72-18.53,1.61-23.65-1.2-25.89C160.88-.14,155.37,0,153.89,0h-27.91c-1.45,0-2.78.59-3.76,1.65-.98,1.07-1.45,2.45-1.32,3.89l14.09,147.58c.8,8.27,2.7,18.66,13.53,18.66Z"/>
                <path class="svg-piece" d="m277.81,158.09c.5,3.3,1.52,14.52,17.05 13.63h42.33c3.46,0,5.58-1.46,6.66-6.04l8.23-39.11c1.49-6.7-2.36-9.95-3.75-10.8-5.56-3.41-39.44-10.37-40.33-15.73-.91-5.53,2.13-7.24,7.32-9.34l29.49-11.21c5.58-2.34,7.3-8.07,7.74-10.29l1.56-8.33c1.27-6.64-2.45-7.75-8.77-9.53-6.32-1.78-44.47-8.41-44.47-8.41-3.76-1.06-9.62-6.69-.35-8.42l48.01-8.02c5.64-1.72,5.59-9.42,5.59-12.7v-6.98c0-3.69-3-6.69-6.69-6.69h-75.3c-1.95,0-8.19-1.37-12.29 5.63-1.76,3.01-4.33,7.04-2.74,17.36,1.58,10.33,20.72,134.98,20.72,134.98Z"/>
                <path class="svg-piece" d="m1.54,144.95c0,23.45,3.01,26.84,28.32,26.84h58.47c26.8,0,30.14-14.11,30.12-24.65l-1.8-19.04c-.26-4.44-1.99-11.69-11.36-20.89-13.35-13.1-23.76-15.03-36.02-20.15-18.43-7.7-23.18-11.8-23.18-11.8,0,0,59.42,5.55,60.23-26.29.01-.45-.07-17-1.42-27.65C102.09-.83,79.86.19,73.65.19H24.77C10.95,0,1.54,1.38,1.54,27.79v117.16Z"/>
                <path class="svg-piece" d="m227.37,164.78c5.32,2.04,13.8-.41,16.35-3.07,4.25-4.42,8.63-13.2,10.14-31.38.44-5.36.68-11.62.02-18.46-2.39-24.68-13.05-70.36-13.05-70.36,0,0-22.21-36.93-27.01-36.83-8.24.17-17.24,4.98-24.39,21.62-7,16.29-11.19,36.73-11.19,54.66,0,15.09,8.78,36.58,22.92,56.09,13.18,18.19,18.03,24.6,26.21,27.74Z"/>
              </g>
              <g>
                <path class="svg-piece" d="m322.81,378.39h-68.63c-2.06,0-28.2-1.59-23.77,20.31,2.56,12.68,18.44,90.73,28.12,125.67,6.59,23.77,5.87,25.79,16.23,25.63.9-.01,2.87-.01,4.19,0,16.58.17,10.84-15.54,9.73-31.37-1.1-15.63-.58-23.41,9.54-2.02,5.33,11.27,10.4,33.56,27.39,33.39h15.19c11.19,0,10.75-4.59,11.57-29.19.34-10.18-6.32-25.2-20.65-35.98-10.84-8.16-37.66-25.93-32.76-25.3,6.98.91,43.17,5.48,49.53-14.63,8.27-26.16,10.88-51.87,4.24-59.68-3.28-3.86-6.37-6.82-29.92-6.82Z"/>
                <path class="svg-piece" d="m208.22,402.5c-7.61-23.9-16.64-25.54-49.77-23.9-14.23.7-20.01,14.77-22.06,28.9l-19.88,131.39c-.97,7.57,1.55,11.66,7.7,11.31h21.94c13.75-.04,12.8-9.05,16.61-29.85,0,0,5.02-41.74,6.31-48.75,1.38-7.48,2.92-20.06,5.49-20.3,3.98-.38,7.62,34.72,12.86,60.27,5.6,27.32,3.74,38.63,20.11,38.63h26.74c11.94-.04,7.93-7,2.34-35.05,0,0-28.38-112.58-28.41-112.65Z"/>
                <path class="svg-piece" d="m40.29,469.7c.41-5.91,62.21-5.51,71.42-29.9,4.25-11.24,6.5-29.3,6.5-29.3,3.13-25.85-10.63-32.11-22.16-32.11H20.16c-14.32,0-20.16,10.42-20.16,20.5v124.91c0,22.74,0,26.19,33.19,26.19l39.4.17c16.6,0,26-12.76,27.72-21.37l2.35-11.84c1.73-14.59-.25-25.41-2.08-30.9-1.68-5.03-12.35-14.22-39.84-14.67-7.7-.13-20.68,1.79-20.44-1.69Z"/>
              </g>
            </g>
          </g>
        </svg>
        

        
        <!-- Audio Controls -->
        <!-- <div class="music-controls">
          <button class="play-button" id="play-button" aria-label="Play music">
            <span class="play-icon">▶</span>
            <span class="pause-icon" style="display: none;">⏸</span>
          </button>
          <div class="music-info">
            <div class="track-name">Bloemerbar Vibes</div>
            <div class="track-status">Ready to play</div>
          </div>
          <div class="visualizer">
            <div class="visualizer-bar"></div>
            <div class="visualizer-bar"></div>
            <div class="visualizer-bar"></div>
            <div class="visualizer-bar"></div>
            <div class="visualizer-bar"></div>
            <div class="visualizer-bar"></div>
            <div class="visualizer-bar"></div>
          </div>
        </div> -->
        
        <!-- Audio Element (will be populated from Strapi API) -->
        <audio id="background-audio" preload="auto" style="display: none;">
          <source src="" type="audio/mpeg">
          Your browser does not support the audio element.
        </audio>
       
        <div class="corner-left">
                    <a href="#" class="small-link brand-link">
            <div class="small-link-text"></div>
            <div class="link-arrow" aria-hidden="true">
              <svg class="arrow-icon" width="20" height="20" viewBox="0 0 17 27" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M3.1836 26.0662C6.32574 20.7266 11.2081 16.5218 16.4082 13.2568C11.1598 10.0406 6.48457 5.68956 3.19051 0.447478L0.0552734 0.447478C3.34243 5.52248 7.30636 9.93614 12.1957 13.2568C7.29945 16.6262 3.1836 21.0886 2.47955e-05 26.0662L3.1905 26.0662L3.1836 26.0662Z" fill="currentColor"></path>
              </svg>
            </div>
          </a>
        </div>
        <div class="corner-right social-icons" aria-label="Social media links">
          <a href="#" aria-label="Instagram" class="social-link">
            <svg viewBox="0 0 24 24" width="28" height="28" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
              <path d="M7 2C4.243 2 2 4.243 2 7v10c0 2.757 2.243 5 5 5h10c2.757 0 5-2.243 5-5V7c0-2.757-2.243-5-5-5H7zm0 2h10c1.654 0 3 1.346 3 3v10c0 1.654-1.346 3-3 3H7c-1.654 0-3-1.346-3-3V7c0-1.654 1.346-3 3-3zm5 3a5 5 0 100 10 5 5 0 000-10zm0 2a3 3 0 110 6 3 3 0 010-6zm6.5-2a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"/>
            </svg>
          </a>
          <a href="#" aria-label="TikTok" class="social-link">
            <svg viewBox="0 0 24 24" width="28" height="28" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
              <path d="M21 8.5c-1.9-.2-3.6-1.1-4.9-2.5V17a7 7 0 11-7-7c.3 0 .7 0 1 .1v3a3.9 3.9 0 00-1-.1 4 4 0 104 4V2h3a5.9 5.9 0 004 4v2.5z"/>
            </svg>
          </a>
          <a href="#" aria-label="Facebook" class="social-link">
            <svg viewBox="0 0 24 24" width="28" height="28" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
              <path d="M22 12a10 10 0 10-11.6 9.9v-7H8v-3h2.4V9.5C10.4 7 11.9 5.6 14.2 5.6c1.1 0 2.3.2 2.3.2v2.5h-1.3c-1.3 0-1.7.8-1.7 1.6V12H16l-.4 3h-2.1v7A10 10 0 0022 12z"/>
            </svg>
          </a>
        </div>
        
        <!-- Opening Hours Center -->
        <div class="opening-hours-center" aria-label="Opening hours">
          <div class="opening-hours__open" id="opening-hours-open">
            <!-- Dynamic content from global API -->
          </div>
          <div class="opening-hours__closed" id="opening-hours-closed">
            <!-- Dynamic content from global API -->
          </div>
        </div>
      </section>
      
      <!-- <section class="hero">

        
        <h1>PUB. CLUB. TERRACE.</h1>
        <p>
          Everyone deserves the opportunity to achieve their full potential.
        </p>
      </section> -->
      <div class="quad-cta" aria-label="Delivery and shopping options">
        <!-- Desktop layout containers -->
        <div class="quad-cta__bar">
          <a href="#" class="quad-cta__link" aria-label="Service">
            <span class="quad-cta__text"></span>
            <span class="quad-cta__chevron" aria-hidden="true">›</span>
          </a>
          <a href="#" class="quad-cta__link" aria-label="Service">
            <span class="quad-cta__text"></span>
            <span class="quad-cta__chevron" aria-hidden="true">›</span>
          </a>
          <a href="#" class="quad-cta__link" aria-label="Service">
            <span class="quad-cta__text"></span>
            <span class="quad-cta__chevron" aria-hidden="true">›</span>
          </a>
          <a href="#" class="quad-cta__link" aria-label="Service">
            <span class="quad-cta__text"></span>
            <span class="quad-cta__chevron" aria-hidden="true">›</span>
          </a>
        </div>
        <div class="quad-cta__grid">
          <a href="#" class="quad-cta__item" aria-label="Service">
            <img alt="" />
          </a>
          <a href="#" class="quad-cta__item" aria-label="Service">
            <img alt="" />
          </a>
          <a href="#" class="quad-cta__item" aria-label="Service">
            <img alt="" />
          </a>
          <a href="#" class="quad-cta__item" aria-label="Service">
            <img alt="" />
          </a>
        </div>
        
        <!-- Mobile layout - pairs of link and image -->
        <div class="quad-cta__mobile-pairs">
          <div class="quad-cta__pair">
            <a href="#" class="quad-cta__link-mobile" aria-label="Service">
              <span class="quad-cta__text"></span>
              <span class="quad-cta__chevron" aria-hidden="true">›</span>
            </a>
            <a href="#" class="quad-cta__item-mobile" aria-label="Service">
              <img alt="" />
            </a>
          </div>
          <div class="quad-cta__pair">
            <a href="#" class="quad-cta__link-mobile" aria-label="Service">
              <span class="quad-cta__text"></span>
              <span class="quad-cta__chevron" aria-hidden="true">›</span>
            </a>
            <a href="#" class="quad-cta__item-mobile" aria-label="Service">
              <img alt="" />
            </a>
          </div>
          <div class="quad-cta__pair">
            <a href="#" class="quad-cta__link-mobile" aria-label="Service">
              <span class="quad-cta__text"></span>
              <span class="quad-cta__chevron" aria-hidden="true">›</span>
            </a>
            <a href="#" class="quad-cta__item-mobile" aria-label="Service">
              <img alt="" />
            </a>
          </div>
          <div class="quad-cta__pair">
            <a href="#" class="quad-cta__link-mobile" aria-label="Service">
              <span class="quad-cta__text"></span>
              <span class="quad-cta__chevron" aria-hidden="true">›</span>
            </a>
            <a href="#" class="quad-cta__item-mobile" aria-label="Service">
              <img alt="" />
            </a>
          </div>
        </div>
      </div>
      <div class="top-marquee" role="region" aria-label="Scrolling announcements">
        <div class="bb-top container">
          
  
          <div class="marquee__wrapper track">
            <div class="list"></div>
            <div class="list" aria-hidden="true"></div>
          </div>
          <div class="city-story" aria-label="City story and Mon Restaurant">
            <div class="city-story__inner">
              <div class="city-story__text">
                <p style="font-size: 40px;">
                
                </p>
              </div>
              <div class="city-story__badge">
                <!-- Scroll-triggered Lottie Reserveer animation will be inserted here -->
              </div>
            </div>
          </div>
        </div>
      </div>

      

      <section class="about vision">
        <div class="vision-media">
          <img src="" alt="Dynamic image from backend" />
        </div>
        <div class="vision-content">
          <h1 class="vision-display" style="font-size: 40px; color: #000;">
            <!-- Dynamic content from backend -->
          </h1>
         
          <a 
      class="book-popup__cta vision_btn" href="#ft-open" aria-label="Reserveer">Reserveer</a>
        </div>
      </section>

      <!-- <section class="sticky">
        <div class="intro">
          <div class="intro-col">
          
          </div>
          <div class="intro-col">
           
          </div>
        </div>

        <div class="img-1">
          <img src="./assets/birthday.jpg" alt="" />
        </div>

        <div class="img-2">
          <img src="./assets/company_drinks.jpg" alt="" />
        </div>

        <div class="img-3">
          <img src="./assets/rent.jpg" alt="" />
        </div>

        <div class="copy">
          <h1>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</h1>
        </div>
      </section> -->

     

      <section class="pinned">
        <div class="sticky-header">
          <svg version="1.2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2110 325" width="610" height="325" class="logo-svg">
        
            <style>
              .logo-path { 
                fill: var(--primary-color, #F05A70);
                transition: fill 0.8s ease;
              }
              .logo-path:hover {
                fill: var(--hover-color, #D94A60);
              }
            </style>
            <path class="logo-path" d="m65.3 1.3c18.2-1.1 45.4 4.2 56.8 19.7 50.4 69 21.8 212.2-30.2 274.7-34 40.9-73 35.8-85.1-18.5-12.4-55.8-9.7-206.2 23.4-253.4 7.7-10.9 21.3-21.6 35.1-22.5zm1778-1c18.3-1.1 45.8 4.2 57.2 19.8 50.9 69.6 22 214-30.3 277-34.3 41.3-73.6 36.2-85.9-18.6-12.5-56.2-9.8-207.9 23.6-255.5 7.8-11 21.5-21.8 35.4-22.7zm-968.2 0.7h-128.6c-3.9 0-52.9-2.9-44.6 38.1 4.8 23.8 34.6 170 52.7 235.5 12.4 44.5 11 48.3 30.5 48 1.6 0 5.3 0 7.8 0 31.1 0.3 20.3-29.1 18.2-58.8-2-29.2-1-43.8 17.9-3.8 10 21.2 19.5 62.9 51.3 62.6h28.5c21 0 20.2-8.6 21.7-54.7 0.6-19.1-11.9-47.2-38.7-67.4-20.3-15.3-70.6-48.6-61.4-47.4 13.1 1.7 80.9 10.3 92.8-27.4 15.5-49.1 20.4-97.2 8-111.9-6.2-7.2-12-12.8-56.1-12.8zm270.2 14.6c5.8 5 4.7 38-2.2 43.8-7.5 6.4-74.4 10.3-89.9 15.4-5.3 1.7-6.9 11.1-2.7 13 13.1 3.2 95.9 14.1 98.2 23.4 2 8.1-3 31.6-9.1 37.8-13 12.9-53.7 17.8-67.5 27.7-8.6 6.2-4.5 13.3 3.5 17.9 20.5 11.7 72.5 11.5 70.1 39.9-0.7 8.3-13.7 71.1-16.4 75.5-0.7 1.2-1 2.5-2.2 3.3-4.1 2.7-89.6 2.4-97.5 0-14.2-4.3-15.5-21.3-18-33.3-15.2-76.3-19.8-157.7-35.6-234.3 1.9-19.3 7.5-31.1 28.1-33.5 30.1-3.4 93.4-2.5 124.4-0.1 3.9 0.3 14.3 1.4 16.8 3.5zm960 0c5.8 5 4.7 38-2.2 43.8-7.5 6.4-74.4 10.3-89.9 15.4-5.3 1.7-6.9 11.1-2.7 13 13.1 3.2 95.9 14.1 98.2 23.4 2 8.1-3 31.6-9.1 37.8-13 12.9-53.7 17.8-67.5 27.7-8.6 6.2-4.5 13.3 3.5 17.9 20.5 11.7 72.5 11.5 70.1 39.9-0.7 8.3-13.7 71.1-16.4 75.5-0.7 1.2-1 2.5-2.2 3.3-4.1 2.7-89.6 2.4-97.5 0-14.2-4.3-15.5-21.3-18-33.3-15.2-76.3-19.8-157.7-35.6-234.3 1.9-19.3 7.5-31.1 28.1-33.5 30.1-3.4 93.4-2.5 124.4-0.1 3.9 0.3 14.3 1.4 16.8 3.5zm-752.4-6.5c-19.7 0-104.4-0.7-114.9 1.1-47.4 8.1-45.2 93.6 94.1 174.1 18 10.5 51.8 47.2 36.3 49.2-15.5 2-66.2-43-79-49.7-12.8-6.8-76-43.2-88.2-4.5-31 98.6-6.8 122.6 29.6 130.3 17.8 3.7 151.1 5.9 158.5 6.2 21.9 0.8 43.3-2.8 51.1-24.2 14-38.6 1.8-107.8-5-120.4-10-18.4-86.8-44.8-95.2-56.2-29.4-40.2 56.9 12.5 66.3 2.8 17.1-17.7 30.4-26.2 26.8-66.1-1.1-12.8-51.8-42.6-80.4-42.6zm297.4-8.8c-20.9 0-110.3-0.7-121.4 1.2-50.1 8.5-47.8 98.8 99.3 183.9 19.1 11 54.8 49.8 38.5 51.9-16.4 2.2-70-45.4-83.6-52.5-13.5-7.1-80.2-45.6-93.1-4.7-32.8 104.2-7.2 129.5 31.3 137.6 18.8 3.9 159.6 6.2 167.4 6.5 23.2 0.9 45.8-2.8 54-25.5 14.8-40.7 1.9-113.9-5.3-127.2-10.5-19.4-91.7-47.3-100.5-59.4-31.1-42.4 60 13.2 70 3 18.1-18.7 32.1-27.7 28.3-69.8-1.2-13.6-54.7-45-84.9-45zm-1428.1 322.2l14.8 0.1c2.3 0 8.9-2.5 10.5-11.1 1.5-8.5 6.2-89.2 12.8-89.7 4.4-0.4 9.5 20.1 13.3 36.9 3.7 16.8 3.5 63.8 32.8 63.8h19.2c6.8 0 10.6-9.5 11.1-11.4l13.5-50.8c1.7-6.3 13.6-66.1 20.2-66.1 7.3 0 14.4 114.7 14.4 114.7 1.4 10.5 9.8 13.7 19.8 13.6 15.2-0.2 19.1 0.8 26.6-61.6l29.3-222c2.8-25.8-5.8-36.8-18.2-36.8h-62c-2 0-21.8-0.9-29 18.1l-14.1 43.5c-10.5 32.6-14.1 50.7-20.8 50.1-6.4-0.6-12.2-35.3-13-43.7l-9.9-48.8c-3.5-18.8-16.6-19.2-18.9-19.2l-62.3-0.9c-22 0.9-26.1 14.4-25.2 28.9l15.6 259.8c2.3 26.5 10.9 32.6 19.5 32.6zm323.4-7.3c-15 16-55.1 5-59.1-20.9-6.4-41.8 10.1-99.1 5.6-142.6 8.9-29.2 0.9-108.6 20.9-129.1 25.8-26.4 121.8-26.7 153.5-11 13.1 6.5 22.3 19.9 22.6 34.6 0.2 5.5-2.7 10.9-2.7 16.7 0.2 36 5.7 117.2-4 147.5-6.7 20.9-46.4 31.3-65.8 31.4-13.4 0-51.8-10.3-61.7-4.5-13.3 7.9 1.2 66.8-9.3 77.9z"/>
          </svg>
        </div>

        <!-- Card Elements -->
        <div class="card" style="cursor: pointer;" id="card-1">
          <div class="card-phase"><p></p></div>
          <div class="card-title">
            <!-- dynamic from Gallery API -->
            <h1></h1>
          </div>
          <img class="card-image" alt="" loading="lazy" decoding="async" />
        </div>
        <div class="card" style="cursor: pointer;" id="card-2">
          <div class="card-phase"><p></p></div>
          <div class="card-title">
            <!-- dynamic from Gallery API -->
            <h1></h1>
          </div>
          <img class="card-image" alt="" loading="lazy" decoding="async" />
        </div>
        <div class="card" style="cursor: pointer;" id="card-3">
          <div class="card-phase"><p></p></div>
          <div class="card-title">
            <!-- dynamic from Gallery API -->
            <h1></h1>
          </div>
          <img class="card-image" alt="" loading="lazy" decoding="async" />
        </div>
        <div class="card" style="cursor: pointer;" id="card-4">
          <div class="card-phase"><p></p></div>
          <div class="card-title">
            <!-- dynamic from Gallery API -->
            <h1></h1>
          </div>
          <img class="card-image" alt="" loading="lazy" decoding="async" />
        </div>

        <!-- Progress / Indices -->
        <div class="progress-bar"><div class="progress"></div></div>
        <div class="indices">
          <div class="index" id="index-1">
            <!-- <p>phase-01</p>
            <p>#TK21034145</p>
            <p>HI8 tapes</p> -->
          </div>
          <div class="index" id="index-2">
            <!-- <p>phase-02</p>
            <p>#TK86532063</p>
            <p>(extra) ordinary</p> -->
          </div>
          <div class="index" id="index-3">
            <!-- <p>phase-03</p>
            <p>#TK19548039</p>
            <p>Sinn Studio</p> -->
          </div>
          <div class="index" id="index-4">
            <!-- <p>phase-04</p>
            <p>#TK86532063</p>
            <p>stop SMOKING</p> -->
          </div>
        </div>
      </section>

     

      <!-- <section class="footer">
        <h1>
          From learning <br />
          To leading
        </h1>
      </section> -->
    </div>
    </div>

    <!-- Reserveer Popup (outside main wrapper to avoid cloning) -->
    <div id="book-now-popup" class="book-popup" aria-hidden="true" role="dialog" aria-label="Reserveer" aria-modal="true">
      <div class="book-popup__inner">
        <button type="button" class="book-popup__close" aria-label="Close">×</button>
        <div class="book-popup__content">
          <h3 class="book-popup__title">Ready to Book?</h3>
          <p class="book-popup__desc">Reserve your table in seconds.</p>
        </div>
        <a class="book-popup__cta" href="#ft-open" aria-label="Reserveer">Reserveer</a>
      </div>
    </div>

    <!-- Formitable Booking Widget -->
    <div id="ft-widget" 
         class="ft-widget-b2" 
         style="width:100%; max-width:400px; position: fixed; top: 50%; right: -400px; transform: translateY(-50%); z-index: 10000; transition: right 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);"
         data-restaurant="67e30298"
         data-open="false"
         data-open-mobile="false"
         data-color="#F05A70"
         data-language="nl"
         data-tag="website-reservations"
         data-toolbar="false"
         data-toolbar-mobile="false">
    </div>

    <script src="https://unpkg.com/lenis@1.1.13/dist/lenis.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <script src="./script.js"></script>

    <!-- Formitable SDK Script -->
    <script>
      // Load Formitable SDK
      (function() {
        if (document.getElementById("formitable-sdk")) return;

        const script = document.createElement("script");
        script.id = "formitable-sdk";
        script.src = "https://cdn.formitable.com/sdk/v1/ft.sdk.min.js";
        script.async = true;
        script.onload = function() {
          if (window.FT) {
            window.FT.load({});
          }
        };
        document.body.appendChild(script);

        // Listen for successful reservation
        window.addEventListener("ft-widget-ordered", function(event) {
          console.log("Reservation completed:", event.detail);
          // You can add a success message or redirect here
        });

        // Universal Reserveer button handler - works for ALL Reserveer buttons
        document.addEventListener('click', function(e) {
          let targetElement = e.target;
          let shouldOpenWidget = false;
          
          // Check for various Reserveer button types
          for (let i = 0; i < 5; i++) {
            if (!targetElement) break;
            
            // Check for anchor links with #ft-open
            if (targetElement.matches && targetElement.matches('a[href="#ft-open"]')) {
              shouldOpenWidget = true;
              break;
            }
            

            
            // Check for book-popup__cta buttons
            if (targetElement.classList && targetElement.classList.contains('book-popup__cta')) {
              shouldOpenWidget = true;
              break;
            }
            
            // Check for SVG Reserveer buttons - these should open the book popup, not the widget
            if (targetElement.classList && (
                targetElement.classList.contains('scroll-reserveer-svg') ||
                targetElement.closest('.scroll-reserveer-svg') ||
                targetElement.classList.contains('static-reserveer-svg') ||
                targetElement.closest('.static-reserveer-svg')
            )) {
              // Open the book popup instead of the widget
              e.preventDefault();
              e.stopPropagation();
              
              console.log('🎯 Lottie Reserveer button clicked! Opening book popup...', {
                target: targetElement,
                classList: targetElement.classList ? Array.from(targetElement.classList) : [],
                textContent: targetElement.textContent
              });
              
              // Store reference to the current wrapper for theme consistency
              const currentMainWrapper = targetElement.closest('.main-wrapper');
              if (currentMainWrapper) {
                window.currentPopupWrapper = currentMainWrapper;
              }
              
              // Open the book popup
              if (typeof window.openBookPopup === 'function') {
                window.openBookPopup();
              } else {
                // Fallback: manually open the popup
                const bookPopup = document.getElementById('book-now-popup');
                if (bookPopup) {
                  bookPopup.setAttribute('aria-hidden', 'false');
                  bookPopup.removeAttribute('inert');
                  // Apply theme colors from current wrapper
                  if (currentMainWrapper) {
                    const computedStyle = getComputedStyle(currentMainWrapper);
                    bookPopup.style.setProperty('--primary-color', computedStyle.getPropertyValue('--primary-color'));
                    bookPopup.style.setProperty('--secondary-color', computedStyle.getPropertyValue('--secondary-color'));
                    bookPopup.style.setProperty('--background-color', computedStyle.getPropertyValue('--background-color'));
                    bookPopup.style.setProperty('--text-black', computedStyle.getPropertyValue('--text-black'));
                    bookPopup.style.setProperty('--text-white', computedStyle.getPropertyValue('--text-white'));
                    bookPopup.style.setProperty('--complementary-color', computedStyle.getPropertyValue('--complementary-color'));
                    bookPopup.style.setProperty('--hover-color', computedStyle.getPropertyValue('--hover-color'));
                    bookPopup.style.setProperty('--accent-color', computedStyle.getPropertyValue('--accent-color'));
                  }
                }
              }
              
              return; // Exit early, don't proceed to widget opening
            }
            
            // Check for floating SVG Reserveer buttons
            if (targetElement.classList && (
                targetElement.classList.contains('floating-lottie-container') ||
                targetElement.closest('.floating-lottie-container')
            )) {
              shouldOpenWidget = true;
              break;
            }
            
            // Check for any element with "Reserveer" text
            if (targetElement.textContent && targetElement.textContent.trim().toLowerCase() === 'reserveer') {
              shouldOpenWidget = true;
              break;
            }
            
            // Check for any element that contains "Reserveer" text (more flexible)
            if (targetElement.textContent && targetElement.textContent.trim().toLowerCase().includes('reserveer')) {
              shouldOpenWidget = true;
              break;
            }
            
            // Check for any clickable element within a book-popup__cta
            if (targetElement.closest && targetElement.closest('.book-popup__cta')) {
              shouldOpenWidget = true;
              break;
            }
            
            targetElement = targetElement.parentElement;
          }
          
          if (shouldOpenWidget) {
            e.preventDefault();
            e.stopPropagation();
            
            console.log('🎯 Reserveer button clicked! Opening widget...', {
              target: targetElement,
              href: targetElement.href || targetElement.getAttribute('href'),
              classList: targetElement.classList ? Array.from(targetElement.classList) : [],
              textContent: targetElement.textContent
            });
            
            // Close the book popup if it's open
            const bookPopup = document.getElementById('book-now-popup');
            if (bookPopup && bookPopup.getAttribute('aria-hidden') === 'false') {
              console.log('🔒 Closing book popup before opening widget...');
              // Call the closeBookPopup function if it exists
              if (typeof window.closeBookPopup === 'function') {
                window.closeBookPopup();
              } else {
                // Fallback: manually close the popup
                bookPopup.setAttribute('aria-hidden', 'true');
                bookPopup.setAttribute('inert', '');
                // Remove inert from background elements
                const bodyChildren = Array.from(document.body.children);
                bodyChildren.forEach((child) => {
                  if (child !== bookPopup && child.hasAttribute('inert')) {
                    child.removeAttribute('inert');
                    child.removeAttribute('aria-hidden');
                  }
                });
              }
            }
            
            // Update URL hash to #ft-open
            // window.location.hash = '#ft-open';
            
            const widget = document.getElementById('ft-widget');
            if (widget) {
              console.log('✅ Widget found, opening...');
              // Slide in from right
              widget.style.right = '0px';
              // Show toolbar and open widget when Reserveer is clicked
              if (window.FT) {
                console.log('✅ FT SDK available, showing toolbar and opening widget...');
                // Show the toolbar first
                if (window.FT.widgetService && window.FT.widgetService.showToolbar) {
                  window.FT.widgetService.showToolbar();
                }
                // Then open the widget
                if (window.FT.open) {
                  window.FT.open();
                }
              } else {
                console.log('⚠️ FT SDK not available yet');
              }
            } else {
              console.log('❌ Widget not found!');
            }
          }
          
          // Check for ft-close links (both original and cloned elements)
          let isFtCloseLink = false;
          targetElement = e.target;
          
          for (let i = 0; i < 3; i++) {
            if (targetElement && targetElement.matches && targetElement.matches('a[href="#ft-close"]')) {
              isFtCloseLink = true;
              break;
            }
            targetElement = targetElement.parentElement;
          }
          
          if (isFtCloseLink) {
            e.preventDefault();
            const widget = document.getElementById('ft-widget');
            if (widget) {
              // Slide out to right
              widget.style.right = '-400px';
              // Hide toolbar and close widget
              if (window.FT) {
                if (window.FT.close) {
                  window.FT.close();
                }
                if (window.FT.widgetService && window.FT.widgetService.hideToolbar) {
                  window.FT.widgetService.hideToolbar();
                }
              }
            }
          }
          
          // Check for ft-toggle links (both original and cloned elements)
          let isFtToggleLink = false;
          targetElement = e.target;
          
          for (let i = 0; i < 3; i++) {
            if (targetElement && targetElement.matches && targetElement.matches('a[href="#ft-toggle"]')) {
              isFtToggleLink = true;
              break;
            }
            targetElement = targetElement.parentElement;
          }
          
          if (isFtToggleLink) {
            e.preventDefault();
            const widget = document.getElementById('ft-widget');
            if (widget) {
              const isVisible = widget.style.right === '0px';
              if (isVisible) {
                // Slide out to right
                widget.style.right = '-400px';
                // Toggle widget and toolbar
                if (window.FT) {
                  if (window.FT.close) {
                    window.FT.close();
                  }
                  if (window.FT.widgetService && window.FT.widgetService.hideToolbar) {
                    window.FT.widgetService.hideToolbar();
                  }
                }
              } else {
                // Slide in from right
                widget.style.right = '0px';
                // Toggle widget and toolbar
                if (window.FT) {
                  if (window.FT.widgetService && window.FT.widgetService.showToolbar) {
                    window.FT.widgetService.showToolbar();
                  }
                  if (window.FT.open) {
                    window.FT.open();
                  }
                }
              }
            }
          }
        });
        
        // Function to ensure all Reserveer buttons work (called when clones are created)
        function ensureAllReserveerButtonsWork() {
          // Find all book-popup__cta buttons and ensure they have #ft-open href
          document.querySelectorAll('.book-popup__cta').forEach(button => {
            if (!button.getAttribute('href') || button.getAttribute('href') !== '#ft-open') {
              button.setAttribute('href', '#ft-open');
            }
          });
          
          // Also ensure any other Reserveer buttons have the correct href
          document.querySelectorAll('a[href="#ft-open"]').forEach(button => {
            button.style.cursor = 'pointer';
            button.style.display = 'block';
          });
        }
        
        // Call this function when clones are created
        window.addEventListener('clones-created', ensureAllReserveerButtonsWork);
        
        // Also call it on initial load
        document.addEventListener('DOMContentLoaded', ensureAllReserveerButtonsWork);
        
        // Call it periodically to ensure all buttons work (for dynamically added content)
        setInterval(ensureAllReserveerButtonsWork, 2000);
        
        // Also call it when the page becomes visible (in case of tab switching)
        document.addEventListener('visibilitychange', () => {
          if (!document.hidden) {
            ensureAllReserveerButtonsWork();
          }
        });
        
        // Expose a test function to manually test the modal
        window.testModal = function() {
          console.log('🧪 Testing modal functionality...');
          const widget = document.getElementById('ft-widget');
          if (widget) {
            console.log('✅ Widget found, testing opening...');
            widget.style.right = '0px';
            if (window.FT) {
              console.log('✅ FT SDK available, testing...');
              if (window.FT.widgetService && window.FT.widgetService.showToolbar) {
                window.FT.widgetService.showToolbar();
              }
              if (window.FT.open) {
                window.FT.open();
              }
            } else {
              console.log('⚠️ FT SDK not available');
            }
          } else {
            console.log('❌ Widget not found');
          }
        };
        
        // Expose a function to check all Reserveer buttons
        window.checkReserveerButtons = function() {
          console.log('🔍 Checking all Reserveer buttons...');
          const bookPopupButtons = document.querySelectorAll('.book-popup__cta');
          const ftOpenButtons = document.querySelectorAll('a[href="#ft-open"]');
          
          console.log(`Found ${bookPopupButtons.length} book-popup__cta buttons`);
          console.log(`Found ${ftOpenButtons.length} #ft-open buttons`);
          
          bookPopupButtons.forEach((btn, i) => {
            console.log(`Book Popup CTA ${i}:`, {
              href: btn.getAttribute('href'),
              text: btn.textContent,
              classes: Array.from(btn.classList)
            });
          });
        };
        
      })();
    </script>
  </body>
</html>
