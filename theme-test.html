<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Theme System Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f0f0f0;
        }
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .theme-info {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            border-left: 4px solid #007bff;
        }
        .test-button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        .test-button:hover {
            background: #0056b3;
        }
        .output {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 15px;
            margin: 10px 0;
            font-family: monospace;
            white-space: pre-wrap;
            max-height: 300px;
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>üé® Theme System Test</h1>
        
        <div class="theme-info">
            <h3>Test Instructions:</h3>
            <ol>
                <li>Open the main website (index.html) in another tab</li>
                <li>Open browser console (F12)</li>
                <li>Use the test functions below to verify theme system</li>
            </ol>
        </div>

        <h3>Test Functions:</h3>
        <button class="test-button" onclick="testThemePattern()">Show Theme Pattern</button>
        <button class="test-button" onclick="testThemeInfo()">Get Current Theme Info</button>
        <button class="test-button" onclick="testReapplyThemes()">Reapply Themes</button>
        <button class="test-button" onclick="testValidation()">Test Theme Validation</button>

        <div id="output" class="output">Click a test button to see results...</div>

        <div class="theme-info">
            <h3>Expected Behavior:</h3>
            <ul>
                <li>‚úÖ Themes should be fetched from Strapi API</li>
                <li>‚úÖ No two consecutive main wrappers should have identical themes</li>
                <li>‚úÖ Pattern should repeat: 87, 88, 89, 90, 91, 87, 88, 89, 90, 91...</li>
                <li>‚úÖ Infinite copies should work with proper theme cycling</li>
                <li>üé® Themes applied using CSS variables for subtle color changes</li>
                <li>üé® Background colors, text colors, and accents follow theme palette</li>
            </ul>
        </div>
    </div>

    <script>
        function log(message) {
            const output = document.getElementById('output');
            output.textContent += message + '\n';
            output.scrollTop = output.scrollHeight;
        }

        function clearLog() {
            document.getElementById('output').textContent = '';
        }

        function testThemePattern() {
            clearLog();
            log('üé® Testing Theme Pattern...');
            log('Expected pattern: 87, 88, 89, 90, 91, 87, 88, 89, 90, 91...');
            log('');
            
            // Simulate the theme pattern logic
            const mockThemes = [
                { id: 87, primaryColor: "#F05A70" },
                { id: 88, primaryColor: "#D28FB9" },
                { id: 89, primaryColor: "#131313" },
                { id: 90, primaryColor: "#F05970" },
                { id: 91, primaryColor: "#F15E36" }
            ];
            
            log('Pattern for 20 wrappers:');
            for (let i = 0; i < 20; i++) {
                const themeIndex = i % mockThemes.length;
                const theme = mockThemes[themeIndex];
                log(`  Wrapper ${i}: Theme ${theme.id} (${theme.primaryColor})`);
            }
            
            log('');
            log('‚úÖ Pattern verification: No consecutive identical themes');
        }

        function testThemeInfo() {
            clearLog();
            log('üîç Testing Theme Info...');
            log('This function should be called from the main website console.');
            log('');
            log('Expected console commands:');
            log('  window.getThemeInfo()');
            log('  window.showThemePattern(20)');
            log('  window.reapplyThemes()');
        }

        function testReapplyThemes() {
            clearLog();
            log('üîÑ Testing Theme Reapplication...');
            log('This function should be called from the main website console.');
            log('');
            log('Expected behavior:');
            log('  - All main wrappers should have themes reapplied');
            log('  - Console should show theme assignment logs');
        }

        function testValidation() {
            clearLog();
            log('‚úÖ Testing Theme Validation...');
            log('');
            
            const validTheme = {
                id: 87,
                secondaryColor: "#F7AACC",
                whiteColor: "#ffffff",
                blackColor: "#000000",
                primaryColor: "#F05A70",
                backgroundColor: "#ffffff",
                complementary: "#425F93"
            };
            
            const invalidTheme = {
                id: 87,
                primaryColor: "#F05A70"
                // Missing required properties
            };
            
            const isValidTheme = (theme) => {
                return theme && 
                       theme.id && 
                       theme.primaryColor && 
                       theme.secondaryColor && 
                       theme.backgroundColor && 
                       theme.whiteColor && 
                       theme.blackColor && 
                       theme.complementary;
            };
            
            log('Valid theme test: ' + (isValidTheme(validTheme) ? '‚úÖ PASS' : '‚ùå FAIL'));
            log('Invalid theme test: ' + (isValidTheme(invalidTheme) ? '‚ùå FAIL' : '‚úÖ PASS'));
        }
    </script>
</body>
</html>
